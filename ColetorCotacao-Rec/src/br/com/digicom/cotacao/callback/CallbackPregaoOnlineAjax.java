package br.com.digicom.cotacao.callback;

import java.net.MalformedURLException;
import java.net.URL;
import java.util.ArrayList;
import java.util.List;

import br.com.digicom.cotacao.handle.CotacaoManipulador;
import br.com.digicom.cotacao.vo.Cotacao;
import br.com.digicom.parse.CampoPost;
import br.com.digicom.parse.callback.CallbackParseHtml;
import br.com.digicom.parse.callback.IDadosParse;
import br.com.digicom.util.ArquivoLog;
import br.com.digicom.util.DatasUtils;

public class CallbackPregaoOnlineAjax extends CallbackParseHtml implements ICallbackCotacao{

	private IDadosParse dados = null;
	private String ticker = null; 
	
	private Cotacao cotacao = null;
	private CotacaoManipulador cotacaoManipulador = null;
	
	@Override
	public void finalizacaoErro() {
		if (this.cotacao.getUlt() != null) {
			this.cotacaoManipulador.setCotacao(this.cotacao);
			this.cotacaoManipulador.gravaCotacao();
			this.cotacao.setNeg("0");
			this.cotacao.setHoraNegocio("00:00:00");
		}
		ArquivoLog.getInstancia().salvaLog(
				"Erro Callback - Ticker:" + this.cotacao.toString());
	}

	public void handleText(char[] data, int pos) {
		super.handleText(data, pos);
		String dado = String.copyValueOf(data);
		if ("Preço".equals(this.getUltConteudoComTexto())) {
			dado = dado.substring(2);
			cotacao.setUlt(dado.replaceAll("R$", ""));
		}
		if ("N° de Negócios".equals(this.getUltConteudo2())) {
			cotacao.setNeg(dado);
		}
		//if ("N° de Negócios".equals(this.getUltConteudoComTexto())) {
		//	String[] dados = dado.split(" ");
		//	cotacao.setHoraNegocio(dados[1]);
		//}
		if (this.getUltConteudo2()!=null && cotacao.getNeg()!=null && this.getUltConteudo2().compareToIgnoreCase(cotacao.getNeg())==0) {
			String[] dados = dado.split(" ");
			cotacao.setHoraNegocio(dados[1]);
		}
		//System.out.println("teste");
	}
	
	
	@Override
	public void finalizacaoOk() {
		System.out.println(this.cotacao);
		this.cotacao.setHoraReal(DatasUtils.getHora());
		this.cotacaoManipulador.setCotacao(this.cotacao);
		this.cotacaoManipulador.gravaCotacao();
	}

	@Override
	public boolean getLoop() {
		// TODO Auto-generated method stub
		return false;
	}

	
	
	@Override
	public URL getUrl() throws MalformedURLException {
		URL url = new URL("http://pregao-online.bmfbovespa.com.br/Principal.aspx");
		return url;
	}

	@Override
	public void inicializacao() {
		this.cotacao = new Cotacao();
		this.cotacao.setTicker(this.ticker);
		//this.setDebug();
	}

	@Override
	public void setDados(IDadosParse dadosParse) {
		this.cotacaoManipulador = ((CotacaoManipulador) dadosParse);
	}

	@Override
	public void setTicker(String paramString) {
		ticker = paramString;
	}

	@Override
	public List camposPost() {
		List<CampoPost> lista = new ArrayList<CampoPost>();
		lista.add(new CampoPost("__EVENTTARGET",""));
		lista.add(new CampoPost("__EVENTARGUMENT",""));
		//lista.add(new CampoPost("__VIEWSTATE","/wEPDwUKLTIzNDQ4MjUyOA9kFgJmD2QWAgIDD2QWAgIBD2QWGAIHDw8WAh4LTmF2aWdhdGVVcmwFHC9QcmluY2lwYWwuYXNweD9pZGlvbWE9cHQtQlJkZAIJDw8WBB8ABRwvUHJpbmNpcGFsLmFzcHg/aWRpb21hPXB0LUJSHgdWaXNpYmxlaGRkAgsPDxYCHwAFHC9QcmluY2lwYWwuYXNweD9pZGlvbWE9ZW4tVVNkZAINDw8WAh8ABRwvUHJpbmNpcGFsLmFzcHg/aWRpb21hPWVzLUVTZGQCDw8PFgIfAAUzaHR0cDovL3d3dy5ibWZib3Zlc3BhLmNvbS5ici9ob21lLmFzcHg/aWRpb21hPXB0LWJyZGQCEQ8PFgIfAAUcL1ByaW5jaXBhbC5hc3B4P2lkaW9tYT1wdC1CUmRkAhMPDxYCHwAFGy9Db3RhY29lcy5hc3B4P2lkaW9tYT1wdC1CUmRkAhUPDxYCHwAFGi9JbmRpY2VzLmFzcHg/aWRpb21hPXB0LUJSZGQCFw8WAh4FdmFsdWUFDGNvZElkaW9tYT1QVGQCGQ8WAh4JZmxhc2h2YXJzBQxjb2RJZGlvbWE9UFRkAhsPZBYIAgEPDxYCHgRUZXh0BTk8c3Ryb25nPlByZWfDo28gZW0gYW5kYW1lbnRvOjwvc3Ryb25nPiAxNy8wMy8yMDE2IC0gMTA6MjFkZAIDDw8WAh8EBTQ8c3Ryb25nPlZvbHVtZSBOZWdvY2lhZG86PC9zdHJvbmc+IFIkIDYyNS45NTcuNzI3LDIwZGQCBQ8PFgIfBAUrPHN0cm9uZz5RdGRlLiBkZSBOZWfDs2Npb3M6PC9zdHJvbmc+IDg4LjQ1OWRkAgkPDxYCHwAFDy9QcmluY2lwYWwuYXNweGRkAh8PZBYYAgEPZBYcAgcPD2QWAh4Hb25jbGljawWeAkV4aWJpckxvYWRpbmcoKTsgJCgnI1RCX2xvYWQnKS5yZWFkeShmdW5jdGlvbigpe1dlYkZvcm1fRG9DYWxsYmFjaygnX19QYWdlJywnfEdyYWZpY298JyArIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdGwwMF9EZWZhdWx0Q29udGVudF9IZGZDb2RpZ29JbmRpY2UnKS52YWx1ZSArICd8JyArIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdGwwMF9EZWZhdWx0Q29udGVudF9IZGZEZXNjcmljYW9JbmRpY2UnKS52YWx1ZSxHZXREYXRhSW5kaWNlcywnY3R4JyxHZXRFcnJvSW5kaWNlcyx0cnVlKTt9KTtkAgkPEA8WBh4ORGF0YVZhbHVlRmllbGQFBkNvZGlnbx4NRGF0YVRleHRGaWVsZAUJRGVzY3JpY2FvHgtfIURhdGFCb3VuZGcWAh4Ib25jaGFuZ2UF4gJFeGliaXJMb2FkaW5nKCk7ICQoJyNUQl9sb2FkJykucmVhZHkoZnVuY3Rpb24oKXtXZWJGb3JtX0RvQ2FsbGJhY2soJ19fUGFnZScsJ3xHcmFmaWNvfCcgKyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3RsMDBfRGVmYXVsdENvbnRlbnRfRGRsSW5kaWNlcycpLnZhbHVlICsgJ3wnICsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N0bDAwX0RlZmF1bHRDb250ZW50X0RkbEluZGljZXMnKS5vcHRpb25zW2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdGwwMF9EZWZhdWx0Q29udGVudF9EZGxJbmRpY2VzJykuc2VsZWN0ZWRJbmRleF0udGV4dCxHZXREYXRhSW5kaWNlcywnY3R4JyxHZXRFcnJvSW5kaWNlcyx0cnVlKTt9KTsQFRkPT3V0cm9zIEluZGljZXM6Mklib3Zlc3BhICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklCclggNTAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklCclggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklCUkEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMk1MQ1ggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMlNNTEwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklTRSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklDTzIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklFRSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklORFggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklDT04gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklNT0IgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklGTkMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklNQVQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMlVUSUwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklWQlgtMiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklHQyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklHQyBUUkFERSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklHTk0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklUQUcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklESVYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMklGSVggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMkJEUlggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMkJCIEVURiBTUCBEViAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgFRkACklCT1YgICAgICAKSUJYTCAgICAgIApJQlhYICAgICAgCklCUkEgICAgICAKTUxDWCAgICAgIApTTUxMICAgICAgCklTRUUgICAgICAKSUNPMiAgICAgIApJRUVYICAgICAgCklORFggICAgICAKSUNPTiAgICAgIApJTU9CICAgICAgCklGTkMgICAgICAKSU1BVCAgICAgIApVVElMICAgICAgCklWQlggICAgICAKSUdDWCAgICAgIApJR0NUICAgICAgCklHTk0gICAgICAKSVRBRyAgICAgIApJRElWICAgICAgCklGSVggICAgICAKQkRSWCAgICAgIApCQlNEICAgICAgFCsDGWdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dkZAILDw8WAh8EBQhJQk9WRVNQQWRkAg0PDxYCHwQFEGFiZXJ0dXJhOiA0Ny43NzBkZAIPDw8WAh8EBQ9tw6F4aW1hOiA1MC41MzNkZAIRDw8WAh8EBQ9tw61uaW1hOiA0Ny43NzBkZAITDw8WAh8EBQ5tw6lkaWE6IDQ5LjAxNWRkAhkPFgIfAWhkAhsPDxYCHg1WaWV3U3RhdGVEYXRhBdAnPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTE2Ij8+DQo8Q2hhcnQgRW5hYmxlVmlld1N0YXRlPSJUcnVlIiBDYWxsYmFja1N0YXRlQ29udGVudD0iQWxsIiBQYWxldHRlPSJWZWdhcyIgQnVpbGROdW1iZXI9IjcuMS4wLjE4MTIiIEFKQVhab29tRW5hYmxlZD0iRmFsc2UiIEJhY2tDb2xvcj0iVHJhbnNwYXJlbnQiIFdpZHRoPSI0NzAiIEhlaWdodD0iMTgxIiBCYWNrR3JhZGllbnRFbmRDb2xvcj0iQ3lhbiIgQm9yZGVyTGluZUNvbG9yPSJUcmFuc3BhcmVudCIgQm9yZGVyTGluZVdpZHRoPSIyIiBCb3JkZXJMaW5lU3R5bGU9IlNvbGlkIj4NCiAgPFNlcmllcz4NCiAgICA8U2VyaWVzIE5hbWU9IlByaW5jaXBhbCIgWFZhbHVlVHlwZT0iVGltZSIgWVZhbHVlVHlwZT0iSW50IiBZVmFsdWVzUGVyUG9pbnQ9IjIiIFBhbGV0dGVDdXN0b21Db2xvcnM9IiIgQ2hhcnRUeXBlPSJBcmVhIiBDb2xvcj0iMjE0LCAyNDgsIDI1NCIgQmFja0dyYWRpZW50VHlwZT0iVG9wQm90dG9tIiBCYWNrR3JhZGllbnRFbmRDb2xvcj0iMTgwLCAxMDQsIDE4MCwgMTk5IiBTaG93SW5MZWdlbmQ9IkZhbHNlIj4NCiAgICAgIDxQb2ludHM+DQogICAgICAgIDxEYXRhUG9pbnQgWFZhbHVlPSI0MjQ0Ni40MjAxMzg4ODg4OTEiIFlWYWx1ZXM9IjQ3NzcwLDAuMDEiIE1hcEFyZWFBdHRyaWJ1dGVzPSJvbm1vdXNlbW92ZT0mcXVvdDtVcGRhdGVEZXRhaWxzKCcxNy8zLzIwMTYnLCAnMTA6MDUnLCAnMCwwMSAlJywgJzQ3Ljc3MCBwdHMnKTsmcXVvdDsiIC8+DQogICAgICAgIDxEYXRhUG9pbnQgWFZhbHVlPSI0MjQ0Ni40MjA4MzMzMzMzMyIgWVZhbHVlcz0iNDc4NDksMC4xOCIgTWFwQXJlYUF0dHJpYnV0ZXM9Im9ubW91c2Vtb3ZlPSZxdW90O1VwZGF0ZURldGFpbHMoJzE3LzMvMjAxNicsICcxMDowNicsICcwLDE4ICUnLCAnNDcuODQ5IHB0cycpOyZxdW90OyIgLz4NCiAgICAgICAgPERhdGFQb2ludCBYVmFsdWU9IjQyNDQ2LjQyMTUyNzc3Nzc3NyIgWVZhbHVlcz0iNDc5NjMsMC40MiIgTWFwQXJlYUF0dHJpYnV0ZXM9Im9ubW91c2Vtb3ZlPSZxdW90O1VwZGF0ZURldGFpbHMoJzE3LzMvMjAxNicsICcxMDowNycsICcwLDQyICUnLCAnNDcuOTYzIHB0cycpOyZxdW90OyIgLz4NCiAgICAgICAgPERhdGFQb2ludCBYVmFsdWU9IjQyNDQ2LjQyMjIyMjIyMjIyMyIgWVZhbHVlcz0iNDgyMDIsMC45MiIgTWFwQXJlYUF0dHJpYnV0ZXM9Im9ubW91c2Vtb3ZlPSZxdW90O1VwZGF0ZURldGFpbHMoJzE3LzMvMjAxNicsICcxMDowOCcsICcwLDkyICUnLCAnNDguMjAyIHB0cycpOyZxdW90OyIgLz4NCiAgICAgICAgPERhdGFQb2ludCBYVmFsdWU9IjQyNDQ2LjQyMjkxNjY2NjY3IiBZVmFsdWVzPSI0ODQxMCwxLjM2IiBNYXBBcmVhQXR0cmlidXRlcz0ib25tb3VzZW1vdmU9JnF1b3Q7VXBkYXRlRGV0YWlscygnMTcvMy8yMDE2JywgJzEwOjA5JywgJzEsMzYgJScsICc0OC40MTAgcHRzJyk7JnF1b3Q7IiAvPg0KICAgICAgICA8RGF0YVBvaW50IFhWYWx1ZT0iNDI0NDYuNDIzNjExMTExMTA5IiBZVmFsdWVzPSI0ODU5NiwxLjc0IiBNYXBBcmVhQXR0cmlidXRlcz0ib25tb3VzZW1vdmU9JnF1b3Q7VXBkYXRlRGV0YWlscygnMTcvMy8yMDE2JywgJzEwOjEwJywgJzEsNzQgJScsICc0OC41OTYgcHRzJyk7JnF1b3Q7IiAvPg0KICAgICAgICA8RGF0YVBvaW50IFhWYWx1ZT0iNDI0NDYuNDI0MzA1NTU1NTU2IiBZVmFsdWVzPSI0ODU5MiwxLjczIiBNYXBBcmVhQXR0cmlidXRlcz0ib25tb3VzZW1vdmU9JnF1b3Q7VXBkYXRlRGV0YWlscygnMTcvMy8yMDE2JywgJzEwOjExJywgJzEsNzMgJScsICc0OC41OTIgcHRzJyk7JnF1b3Q7IiAvPg0KICAgICAgICA8RGF0YVBvaW50IFhWYWx1ZT0iNDI0NDYuNDI1IiBZVmFsdWVzPSI0ODYwMiwxLjc2IiBNYXBBcmVhQXR0cmlidXRlcz0ib25tb3VzZW1vdmU9JnF1b3Q7VXBkYXRlRGV0YWlscygnMTcvMy8yMDE2JywgJzEwOjEyJywgJzEsNzYgJScsICc0OC42MDIgcHRzJyk7JnF1b3Q7IiAvPg0KICAgICAgICA8RGF0YVBvaW50IFhWYWx1ZT0iNDI0NDYuNDI1Njk0NDQ0NDQyIiBZVmFsdWVzPSI0ODYyMCwxLjc5IiBNYXBBcmVhQXR0cmlidXRlcz0ib25tb3VzZW1vdmU9JnF1b3Q7VXBkYXRlRGV0YWlscygnMTcvMy8yMDE2JywgJzEwOjEzJywgJzEsNzkgJScsICc0OC42MjAgcHRzJyk7JnF1b3Q7IiAvPg0KICAgICAgICA8RGF0YVBvaW50IFhWYWx1ZT0iNDI0NDYuNDI2Mzg4ODg4ODg5IiBZVmFsdWVzPSI0ODY5MywxLjk1IiBNYXBBcmVhQXR0cmlidXRlcz0ib25tb3VzZW1vdmU9JnF1b3Q7VXBkYXRlRGV0YWlscygnMTcvMy8yMDE2JywgJzEwOjE0JywgJzEsOTUgJScsICc0OC42OTMgcHRzJyk7JnF1b3Q7IiAvPg0KICAgICAgICA8RGF0YVBvaW50IFhWYWx1ZT0iNDI0NDYuNDI3MDgzMzMzMzM2IiBZVmFsdWVzPSI0ODY0MywxLjg0IiBNYXBBcmVhQXR0cmlidXRlcz0ib25tb3VzZW1vdmU9JnF1b3Q7VXBkYXRlRGV0YWlscygnMTcvMy8yMDE2JywgJzEwOjE1JywgJzEsODQgJScsICc0OC42NDMgcHRzJyk7JnF1b3Q7IiAvPg0KICAgICAgICA8RGF0YVBvaW50IFhWYWx1ZT0iNDI0NDYuNDI3Nzc3Nzc3Nzc1IiBZVmFsdWVzPSI0ODY4NCwxLjkzIiBNYXBBcmVhQXR0cmlidXRlcz0ib25tb3VzZW1vdmU9JnF1b3Q7VXBkYXRlRGV0YWlscygnMTcvMy8yMDE2JywgJzEwOjE2JywgJzEsOTMgJScsICc0OC42ODQgcHRzJyk7JnF1b3Q7IiAvPg0KICAgICAgICA8RGF0YVBvaW50IFhWYWx1ZT0iNDI0NDYuNDI4NDcyMjIyMjIyIiBZVmFsdWVzPSI1MDI5Myw1LjMiIE1hcEFyZWFBdHRyaWJ1dGVzPSJvbm1vdXNlbW92ZT0mcXVvdDtVcGRhdGVEZXRhaWxzKCcxNy8zLzIwMTYnLCAnMTA6MTcnLCAnNSwzMCAlJywgJzUwLjI5MyBwdHMnKTsmcXVvdDsiIC8+DQogICAgICAgIDxEYXRhUG9pbnQgWFZhbHVlPSI0MjQ0Ni40MjkxNjY2NjY2NjkiIFlWYWx1ZXM9IjUwMjg5LDUuMjkiIE1hcEFyZWFBdHRyaWJ1dGVzPSJvbm1vdXNlbW92ZT0mcXVvdDtVcGRhdGVEZXRhaWxzKCcxNy8zLzIwMTYnLCAnMTA6MTgnLCAnNSwyOSAlJywgJzUwLjI4OSBwdHMnKTsmcXVvdDsiIC8+DQogICAgICAgIDxEYXRhUG9pbnQgWFZhbHVlPSI0MjQ0Ni40Mjk4NjExMTExMDgiIFlWYWx1ZXM9IjUwMzQ2LDUuNDEiIE1hcEFyZWFBdHRyaWJ1dGVzPSJvbm1vdXNlbW92ZT0mcXVvdDtVcGRhdGVEZXRhaWxzKCcxNy8zLzIwMTYnLCAnMTA6MTknLCAnNSw0MSAlJywgJzUwLjM0NiBwdHMnKTsmcXVvdDsiIC8+DQogICAgICAgIDxEYXRhUG9pbnQgWFZhbHVlPSI0MjQ0Ni40MzA1NTU1NTU1NTUiIFlWYWx1ZXM9IjUwNTMxLDUuOCIgTWFwQXJlYUF0dHJpYnV0ZXM9Im9ubW91c2Vtb3ZlPSZxdW90O1VwZGF0ZURldGFpbHMoJzE3LzMvMjAxNicsICcxMDoyMCcsICc1LDgwICUnLCAnNTAuNTMxIHB0cycpOyZxdW90OyIgLz4NCiAgICAgICAgPERhdGFQb2ludCBYVmFsdWU9IjQyNDQ2LjQzMTI1IiBZVmFsdWVzPSI1MDQ5Myw1LjcyIiBNYXBBcmVhQXR0cmlidXRlcz0ib25tb3VzZW1vdmU9JnF1b3Q7VXBkYXRlRGV0YWlscygnMTcvMy8yMDE2JywgJzEwOjIxJywgJzUsNzIgJScsICc1MC40OTMgcHRzJyk7JnF1b3Q7IiAvPg0KICAgICAgPC9Qb2ludHM+DQogICAgPC9TZXJpZXM+DQogIDwvU2VyaWVzPg0KICA8Q2hhcnRBcmVhcz4NCiAgICA8Q2hhcnRBcmVhIEJhY2tDb2xvcj0iVHJhbnNwYXJlbnQiIFNoYWRvd0NvbG9yPSJUcmFuc3BhcmVudCIgQm9yZGVyQ29sb3I9IjE1MCwgMjU1LCAyNTUsIDI1NSIgQm9yZGVyU3R5bGU9IlNvbGlkIiBOYW1lPSJEZWZhdWx0Ij4NCiAgICAgIDxBeGlzWSBMYWJlbHNBdXRvRml0PSJGYWxzZSIgVGl0bGU9IihwdHMpIHBvbnRvcyIgVGl0bGVDb2xvcj0iV2hpdGUiIFRpdGxlRm9udD0iVHJlYnVjaGV0IE1TLCA4cHQiIExpbmVDb2xvcj0iMTUwLCAyNTUsIDI1NSwgMjU1IiBJbnRlcnZhbFR5cGU9Ik51bWJlciIgTWF4aW11bT0iNTA1MzEiIE1pbmltdW09IjQ3NzcwIiBFbmFibGVkPSJUcnVlIj4NCiAgICAgICAgPE1ham9yR3JpZCBMaW5lQ29sb3I9IjE1MCwgMjU1LCAyNTUsIDI1NSIgLz4NCiAgICAgICAgPE1pbm9yR3JpZCBMaW5lQ29sb3I9IjE1MCwgMjU1LCAyNTUsIDI1NSIgLz4NCiAgICAgICAgPE1ham9yVGlja01hcmsgTGluZUNvbG9yPSIxNTAsIDI1NSwgMjU1LCAyNTUiIC8+DQogICAgICAgIDxNaW5vclRpY2tNYXJrIExpbmVDb2xvcj0iMTUwLCAyNTUsIDI1NSwgMjU1IiAvPg0KICAgICAgICA8TGFiZWxTdHlsZSBGb250PSJUcmVidWNoZXQgTVMsIDhwdCIgRm9udENvbG9yPSIyNTUsIDI1NSwgMjU1IiBGb3JtYXQ9InswOk4wfSIgLz4NCiAgICAgIDwvQXhpc1k+DQogICAgICA8QXhpc1ggTGFiZWxzQXV0b0ZpdD0iRmFsc2UiIExpbmVDb2xvcj0iMTUwLCAyNTUsIDI1NSwgMjU1IiBJbnRlcnZhbFR5cGU9IkhvdXJzIiBNYXhpbXVtPSI0MjQ0Ni43NDk5ODg0MjU5MjMiIE1pbmltdW09IjQyNDQ2LjQxNjY2NjY2NjY2NCIgRW5hYmxlZD0iVHJ1ZSI+DQogICAgICAgIDxNYWpvckdyaWQgTGluZUNvbG9yPSIxNTAsIDI1NSwgMjU1LCAyNTUiIEVuYWJsZWQ9IkZhbHNlIiAvPg0KICAgICAgICA8TWlub3JHcmlkIExpbmVDb2xvcj0iMTUwLCAyNTUsIDI1NSwgMjU1IiAvPg0KICAgICAgICA8TWFqb3JUaWNrTWFyayBMaW5lQ29sb3I9IjE1MCwgMjU1LCAyNTUsIDI1NSIgLz4NCiAgICAgICAgPE1pbm9yVGlja01hcmsgTGluZUNvbG9yPSIxNTAsIDI1NSwgMjU1LCAyNTUiIC8+DQogICAgICAgIDxMYWJlbFN0eWxlIEZvbnQ9IlRyZWJ1Y2hldCBNUywgOHB0IiBGb250Q29sb3I9IjI1NSwgMjU1LCAyNTUiIC8+DQogICAgICA8L0F4aXNYPg0KICAgIDwvQ2hhcnRBcmVhPg0KICA8L0NoYXJ0QXJlYXM+DQogIDxMZWdlbmRzPg0KICAgIDxMZWdlbmQgTmFtZT0iRGVmYXVsdCI+DQogICAgPC9MZWdlbmQ+DQogIDwvTGVnZW5kcz4NCiAgPEJvcmRlclNraW4gUGFnZUNvbG9yPSJBbGljZUJsdWUiIEZyYW1lQmFja0NvbG9yPSJTdGVlbEJsdWUiIEZyYW1lQm9yZGVyQ29sb3I9IjEwMCwgMCwgMCwgMCIgRnJhbWVCYWNrR3JhZGllbnRFbmRDb2xvcj0iTGlnaHRCbHVlIiBGcmFtZUJvcmRlcldpZHRoPSIyIiAvPg0KPC9DaGFydD5kZAIhDw8WBB4IQ3NzQ2xhc3MFEm9zY2lsYWNhbyBwb3NpdGl2bx4EXyFTQgICZBYCAgEPDxYCHwQFBjUsNzIgJWRkAiMPDxYCHwQFCjUwLjQ5MyBwdHNkZAIlDw8WAh8EBQkxNy8zLzIwMTZkZAImDw8WAh8EBQUxMDoyMWRkAigPDxYCHwAFGi9pbmRpY2VzLmFzcHg/aWRpb21hPXB0LUJSZGQCDw8PZBYCHwUF0gFFeGliaXJMb2FkaW5nKCk7ICQoJyNUQl9sb2FkJykucmVhZHkoZnVuY3Rpb24oKXtXZWJGb3JtX0RvQ2FsbGJhY2soJ19fUGFnZScsJ3xCdXNjYXwnICsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N0bDAwX0RlZmF1bHRDb250ZW50X1R4dENvZGlnb0F0aXZvJykudmFsdWUsR2V0RGF0YUF0aXZvc0J1c2NhLCdjdHgnLEdldEVycm9BdGl2b3NCdXNjYSx0cnVlKTt9KTtkAhMPD2QWAh4Kb25rZXlwcmVzcwXaAnZhciBLZXkgPSBldmVudC5rZXlDb2RlID8gZXZlbnQua2V5Q29kZSA6IGV2ZW50LndoaWNoID8gZXZlbnQud2hpY2ggOiBldmVudC5jaGFyQ29kZTsgaWYgKEtleSA9PSAxMykge0V4aWJpckxvYWRpbmcoKTsgJCgnI1RCX2xvYWQnKS5yZWFkeShmdW5jdGlvbigpe1dlYkZvcm1fRG9DYWxsYmFjaygnX19QYWdlJywnfEJ1c2NhfCcgKyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3RsMDBfRGVmYXVsdENvbnRlbnRfVHh0Q29kaWdvQXRpdm8nKS52YWx1ZSxHZXREYXRhQXRpdm9zQnVzY2EsJ2N0eCcsR2V0RXJyb0F0aXZvc0J1c2NhLHRydWUpO30pO3JldHVybiBmYWxzZTt9IGVsc2Uge3JldHVybiB0cnVlfTtkAhUPD2QWAh8FBd8BRXhpYmlyTG9hZGluZygpOyAkKCcjVEJfbG9hZCcpLnJlYWR5KGZ1bmN0aW9uKCl7V2ViRm9ybV9Eb0NhbGxiYWNrKCdfX1BhZ2UnLCd8QnVzY2F8JyArIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdGwwMF9EZWZhdWx0Q29udGVudF9UeHRDb2RpZ29BdGl2bycpLnZhbHVlLEdldERhdGFBdGl2b3NCdXNjYSwnY3R4JyxHZXRFcnJvQXRpdm9zQnVzY2EsdHJ1ZSk7fSk7cmV0dXJuIGZhbHNlO2QCGQ8PFgIfAAVlLi4vQ29kaWdvc05lZ29jaWFjYW8uYXNweD9pZGlvbWE9cHQtQlImTm9tZUVtcHJlc2E9JktlZXBUaGlzPXRydWUmVEJfaWZyYW1lPXRydWUmaGVpZ2h0PTQyMCZ3aWR0aD0zMzVkZAIbD2QWAgIDDw8WAh8ABWUuLi9Db2RpZ29zTmVnb2NpYWNhby5hc3B4P2lkaW9tYT1wdC1CUiZOb21lRW1wcmVzYT0mS2VlcFRoaXM9dHJ1ZSZUQl9pZnJhbWU9dHJ1ZSZoZWlnaHQ9NDIwJndpZHRoPTMzNWRkAiUPD2QWAh8FBckBRXhpYmlyTG9hZGluZygpOyAkKCcjVEJfbG9hZCcpLnJlYWR5KGZ1bmN0aW9uKCl7V2ViRm9ybV9Eb0NhbGxiYWNrKCdfX1BhZ2UnLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdGwwMF9EZWZhdWx0Q29udGVudF9EZGxNYWlvcmVzQWx0YXMnKS52YWx1ZSxHZXREYXRhTWFpb3Jlc0FsdGFzLCdjdHgnLEdldEVycm9NYWlvcmVzQWx0YXMsdHJ1ZSk7fSk7ZAInD2QWBgIDDxAPZBYCHwkFyQFFeGliaXJMb2FkaW5nKCk7ICQoJyNUQl9sb2FkJykucmVhZHkoZnVuY3Rpb24oKXtXZWJGb3JtX0RvQ2FsbGJhY2soJ19fUGFnZScsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N0bDAwX0RlZmF1bHRDb250ZW50X0RkbE1haW9yZXNBbHRhcycpLnZhbHVlLEdldERhdGFNYWlvcmVzQWx0YXMsJ2N0eCcsR2V0RXJyb01haW9yZXNBbHRhcyx0cnVlKTt9KTtkZGQCBQ8WAh8BaGQCBw88KwANAgAPFgQfCGce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dWx0Q29udGVudF9EZGxNYWlzTmVnb2NpYWRhcycpLnZhbHVlLEdldERhdGFNYWlzTmVnb2NpYWRhcywnY3R4JyxHZXRFcnJvTWFpc05lZ29jaWFkYXMsdHJ1ZSk7fSk7ZGRkAgUPFgIfAWhkAgcPPCsADQIADxYEHwhnHw4CBWQBEBYHZgIBAgICAwIEAgUCBhYHPCsABQEAFgIfAWc8KwAFAQAWAh8BZzwrAAUBABYEHw8FC1ByZcOnbyAoUiQpHwFoPCsABQEAFgIfAWg8KwAFAQAWAh8BaDwrAAUBABYCHwFnPCsABQEAFgIfAWcWBwIGZmYCBmZmZhYCZg9kFgwCAQ9kFgpmD2QWBAIBDxYCHwQFBUNFVElQZAIDDxYCHwQFCk9OICAgICAgTk1kAgEPDxYCHwQFCDEuOTc0LDE2ZGQCAw9kFgICAQ8WAh8EBQowMS8wMS8wMDAxZAIFDw8WAh8EBQUxMSw4NGRkAgYPDxYCHwQFBTEwOjA2ZGQCAg9kFgpmD2QWBAIBDxYCHwQFBUNJRUxPZAIDDxYCHwQFCk9OICBFREogTk1kAgEPDxYCHwQFBjgyMiw4M2RkAgMPZBYCAgEPFgIfBAUKMDEvMDEvMDAwMWQCBQ8PFgIfBAUENCw5M2RkAgYPDxYCHwQFBTEwOjA2ZGQCAw9kFgpmD2QWBAIBDxYCHwQFCFVMVFJBUEFSZAIDDxYCHwQFCk9OICAgICAgTk1kAgEPDxYCHwQFBjY1Nyw2NGRkAgMPZBYCAgEPFgIfBAUKMDEvMDEvMDAwMWQCBQ8PFgIfBAUEMyw5NGRkAgYPDxYCHwQFBTEwOjA2ZGQCBA9kFgpmD2QWBAIBDxYCHwQFC0VDT1JPRE9WSUFTZAIDDxYCHwQFCk9OICAgICAgTk1kAgEPDxYCHwQFBjU1OSwyMWRkAgMPZBYCAgEPFgIfBAUKMDEvMDEvMDAwMWQCBQ8PFgIfBAUEMywzNWRkAgYPDxYCHwQFBTEwOjA2ZGQCBQ9kFgpmD2QWBAIBDxYCHwQFB0JSQVNLRU1kAgMPFgIfBAUKUE5BICAgICBOMWQCAQ8PFgIfBAUGNTEwLDI5ZGQCAw9kFgICAQ8WAh8EBQowMS8wMS8wMDAxZAIFDw8WAh8EBQQzLDA2ZGQCBg8PFgIfBAUFMTA6MDZkZAIGDw8WAh8BaGRkGAMFJmN0bDAwJERlZmF1bHRDb250ZW50JEdyZE1haXNOZWdvY2lhZGFzDzwrAAoBCAIBZAUlY3RsMDAkRGVmYXVsdENvbnRlbnQkR3JkTWFpb3Jlc0JhaXhhcw88KwAKAQgCAWQFJGN0bDAwJERlZmF1bHRDb250ZW50JEdyZE1haW9yZXNBbHRhcw88KwAKAQgCAWSRWuFEO7BOgETH8+/jugLsbGuFhg=="));
		//lista.add(new CampoPost("ctl00$DefaultContent$DdlIndices",""));
		//lista.add(new CampoPost("ctl00$DefaultContent$HdfCodigoIndice","IBOV"));
		//lista.add(new CampoPost("ctl00$DefaultContent$HdfDescricaoIndice","IBOVESPA"));
		//lista.add(new CampoPost("ctl00$DefaultContent$HdfPontos","_dpLast[0]=new Array(14,50493,'5.72',97);BigChartImageWidth = 470;_dp[85]=new Array(155,47770,'0.01'),_dp[86]=new Array(151,47849,'0.18'),_dp[86]=new Array(145,47963,'0.42'),_dp[87]=new Array(133,48202,'0.92'),_dp[88]=new Array(122,48410,'1.36'),_dp[89]=new Array(112,48596,'1.74'),_dp[89]=new Array(112,48592,'1.73'),_dp[90]=new Array(112,48602,'1.76'),_dp[91]=new Array(111,48620,'1.79'),_dp[92]=new Array(107,48693,'1.95'),_dp[92]=new Array(110,48643,'1.84'),_dp[93]=new Array(108,48684,'1.93'),_dp[94]=new Array(25,50293,'5.3'),_dp[95]=new Array(25,50289,'5.29'),_dp[95]=new Array(22,50346,'5.41'),_dp[96]=new Array(12,50531,'5.8'),_dp[97]=new Array(14,50493,'5.72');"));
		//lista.add(new CampoPost("ctl00$DefaultContent$TxtCodigoAtivo","Digite o nome da empresa ou código do ativo"));
		//lista.add(new CampoPost("ctl00$DefaultContent$DdlMaioresAltas","MAIB"));
		//lista.add(new CampoPost("ctl00$DefaultContent$DdlMaioresBaixas","MBIB"));
		//lista.add(new CampoPost("ctl00$DefaultContent$DdlMaisNegociadas","MNMV"));
		lista.add(new CampoPost("__CALLBACKID","__Page"));
		lista.add(new CampoPost("__CALLBACKPARAM","|Busca|" + ticker));
		//lista.add(new CampoPost("__EVENTVALIDATION","/wEWJgKj4/1CAqaOgOoGAs7WgMYJAv3nnd0IAv3nrdACAo+Hq78NAvb4kMEBAtvVlPUDAuy2ob4BAs7WzOkMAuy2nZgFAqn41ZgGAs7W3KwEAs7WpPQCAouYiZ4JAvj27KUIAuzmpMIFAr/YxeMCAvKW5d4CAvKW9dgMAouY/bAPAvj2lJcPAuDI3KAKAuDI7OIDAsaylr8IAr2Uu4ACApnn0t4NAvqPhowMAqD974sFAvy6lN8HAr/R1/wHAsKT8/4MAq7s69ULAoy4raMGAuDHtYgBAunj2MUGAunjlIkHAunjsJwH2HNZKnke8Qc9nMfL4VH1YR93pqs="));
	
		
		return lista;
	}

	@Override
	public boolean isPost() {
		return true;
	}

	@Override
	public String getCharSet() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public URL getJsonUrl() throws MalformedURLException {
		// TODO Auto-generated method stub
		return null;
	}
}
